<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro de Comidas - Residencia</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Pantalla de inicio -->
  <div id="home-screen" class="container">
    <header class="header">
      <img src="logo.png" alt="Hermandad de Sacerdotes Operarios Diocesanos" class="logo" />
      <h1>üçΩÔ∏è Registro de Comidas</h1>
      <p>Selecciona tu rol para continuar</p>
    </header>
    <main class="main">
      <div class="role-buttons">
        <button id="btn-residente" class="btn-role">Acceder como Residente</button>
        <button id="btn-cocinero" class="btn-role btn-chef">Acceder como Cocinero</button>
      </div>
    </main>
  </div>

  <!-- Modal de autenticaci√≥n para residentes -->
  <div id="auth-modal" class="modal active">
    <div class="modal-content">
      <h2>Bienvenido/a</h2>
      <p>Introduce tu nombre y clave para continuar.</p>
      <div class="form-group">
        <label for="user-name">Nombre y apellidos</label>
        <input type="text" id="user-name" class="input-box" placeholder="Ej: Ana L√≥pez" autofocus />
      </div>
      <div class="form-group">
        <label for="user-pin">Clave (4 d√≠gitos)</label>
        <input type="password" id="user-pin" class="input-box" maxlength="4" placeholder="1234" />
      </div>
      <button id="submit-auth" class="btn-chef" style="margin-top: 1rem;">Acceder</button>
      <p style="font-size: 0.9rem; margin-top: 0.5rem;">
        <small>¬øPrimera vez? Crea tu clave de 4 d√≠gitos.</small>
      </p>
      <p id="auth-error" style="color: #e74c3c; margin-top: 0.5rem; display: none;">
        ‚ùå Clave incorrecta.
      </p>
    </div>
  </div>

  <!-- App principal para residentes -->
  <div id="residente-app" style="display: none;">
    <div class="container">
      <header class="header">
        <h1>üçΩÔ∏è Registro de Comidas</h1>
        <p>Selecciona tus comidas con al menos un d√≠a de antelaci√≥n.</p>
        <p><strong>Usuario:</strong> <span id="current-user"></span></p>
        <button id="logout-btn" class="btn-logout">Cerrar sesi√≥n</button>
      </header>
      <main class="main">
        <section class="week-selector">
          <label for="week">Semana:</label>
          <input type="week" id="week" class="input-box" />
        </section>
        <section class="meals-grid" id="meals-grid">
          <!-- Generado por JS -->
        </section>
        <div id="meals-summary-container"></div>
      </main>
    </div>
  </div>

  <!-- Panel de cocineros -->
  <div id="cocinero-app" style="display: none;" class="container">
    <header class="header">
      <h1>üçΩÔ∏è Panel de Cocineros</h1>
      <p>Introduce la clave para ver el resumen semanal.</p>
      <button id="logout-btn-cocinero" class="btn-logout">Cerrar sesi√≥n</button>
    </header>
    <main class="main">
      <div class="form-group">
        <label for="chef-pin">Clave de acceso</label>
        <input type="password" id="chef-pin" class="input-box" placeholder="Clave" autofocus />
        <p id="pin-error" style="color: #e74c3c; margin-top: 0.5rem; display: none;">
          ‚ùå Clave incorrecta.
        </p>
      </div>
      <button id="submit-pin" class="btn-chef">Ver Resumen Semanal</button>

      <!-- Botones de reporte solo para cocineros -->
      <div class="report-buttons" style="margin-top: 1.5rem;">
        <button id="btn-weekly" class="btn-role">Reporte Semanal</button>
        <button id="btn-monthly" class="btn-role">Reporte Mensual</button>
      </div>

      <div id="summary-container" style="display: none; margin-top: 2rem;">
        <h2>Resumen Semanal de Comidas</h2>
        <table class="summary-table">
          <thead>
            <tr>
              <th>D√≠a</th>
              <th>Desayuno (8:00)</th>
              <th>Comida (14:15)</th>
              <th>Cena (21:00)</th>
            </tr>
          </thead>
          <tbody id="summary-body">
            <!-- Generado por JS -->
          </tbody>
        </table>
      </div>

      <!-- Reportes generados aqu√≠ -->
      <div id="reports-container"></div>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>